<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Таблица дел на неделю</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Таблица дел на неделю</h1>
      <p class="subtitle">Управление задачами на каждый день</p>
    </header>

    <div class="controls">
      <div class="filter-section">
        <label for="dayFilter">Фильтр по дню:</label>
        <select id="dayFilter">
          <option value="">Все дни</option>
          <option value="Понедельник">Понедельник</option>
          <option value="Вторник">Вторник</option>
          <option value="Среда">Среда</option>
          <option value="Четверг">Четверг</option>
          <option value="Пятница">Пятница</option>
          <option value="Суббота">Суббота</option>
          <option value="Воскресенье">Воскресенье</option>
        </select>
      </div>

      <div class="stats-section">
        <div class="stat-item">
          <span class="stat-label">Всего:</span>
          <span class="stat-value" id="totalCount">0</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">Завершено:</span>
          <span class="stat-value" id="completedCount">0</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">В процессе:</span>
          <span class="stat-value" id="inProgressCount">0</span>
        </div>
      </div>
    </div>

    <div class="add-task-section">
      <h2>Добавить новую задачу</h2>
      <form id="addTaskForm">
        <div class="form-row">
          <input type="text" id="taskTitle" placeholder="Название задачи" required>
          <input type="text" id="taskDescription" placeholder="Описание (опционально)">
        </div>
        <div class="form-row">
          <select id="taskDay" required>
            <option value="">Выберите день недели</option>
            <option value="Понедельник">Понедельник</option>
            <option value="Вторник">Вторник</option>
            <option value="Среда">Среда</option>
            <option value="Четверг">Четверг</option>
            <option value="Пятница">Пятница</option>
            <option value="Суббота">Суббота</option>
            <option value="Воскресенье">Воскресенье</option>
          </select>
          <select id="taskPriority">
            <option value="средний">Приоритет: средний</option>
            <option value="низкий">Приоритет: низкий</option>
            <option value="высокий">Приоритет: высокий</option>
          </select>
          <select id="taskStatus">
            <option value="новая">Статус: новая</option>
            <option value="в процессе">Статус: в процессе</option>
            <option value="завершена">Статус: завершена</option>
          </select>
        </div>
        <button type="submit" class="btn btn-add">Добавить задачу</button>
      </form>
    </div>

    <div class="tasks-section">
      <h2>Задачи</h2>
      <table class="tasks-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Название</th>
            <th>Описание</th>
            <th>День</th>
            <th>Приоритет</th>
            <th>Статус</th>
            <th>Дата создания</th>
            <th>Действия</th>
          </tr>
        </thead>
        <tbody id="tasksTableBody">
          <tr>
            <td colspan="8" class="empty-message">Загрузка задач...</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="info-section">
      <h3>Информация о приложении</h3>
      <p><strong>API базовый URL:</strong> <code>/api/tasks</code></p>
      <p><strong>Методы:</strong></p>
      <ul>
        <li><code>GET /api/tasks</code> - получить все задачи</li>
        <li><code>GET /api/tasks?day=Понедельник</code> - задачи на день</li>
        <li><code>GET /api/tasks/:id</code> - задача по ID</li>
        <li><code>POST /api/tasks</code> - создать новую задачу</li>
        <li><code>PUT /api/tasks/:id</code> - обновить задачу</li>
        <li><code>DELETE /api/tasks/:id</code> - удалить задачу</li>
        <li><code>GET /api/tasks/stats/summary</code> - статистика</li>
      </ul>
    </div>
  </div>

  <!-- Модальное окно для редактирования -->
  <div id="editModal" class="modal hidden">
    <div class="modal-content">
      <span class="close-btn">&times;</span>
      <h2>Редактировать задачу</h2>
      <form id="editTaskForm">
        <input type="hidden" id="editTaskId">
        <div class="form-row">
          <input type="text" id="editTaskTitle" placeholder="Название задачи" required>
          <input type="text" id="editTaskDescription" placeholder="Описание">
        </div>
        <div class="form-row">
          <select id="editTaskDay" required>
            <option value="Понедельник">Понедельник</option>
            <option value="Вторник">Вторник</option>
            <option value="Среда">Среда</option>
            <option value="Четверг">Четверг</option>
            <option value="Пятница">Пятница</option>
            <option value="Суббота">Суббота</option>
            <option value="Воскресенье">Воскресенье</option>
          </select>
          <select id="editTaskPriority">
            <option value="низкий">Приоритет: низкий</option>
            <option value="средний">Приоритет: средний</option>
            <option value="высокий">Приоритет: высокий</option>
          </select>
          <select id="editTaskStatus">
            <option value="новая">Статус: новая</option>
            <option value="в процессе">Статус: в процессе</option>
            <option value="завершена">Статус: завершена</option>
          </select>
        </div>
        <div class="button-group">
          <button type="submit" class="btn btn-save">Сохранить</button>
          <button type="button" class="btn btn-cancel">Отмена</button>
        </div>
      </form>
    </div>
  </div>

  <script src="/app.js"></script>
</body>
</html>
